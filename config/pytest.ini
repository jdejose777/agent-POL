[pytest]
# Configuración de pytest para el proyecto agent-POL

# Directorio donde están los tests
testpaths = ../tests

# Patrón de archivos de test
python_files = test_*.py

# Patrón de clases de test
python_classes = Test*

# Patrón de funciones de test
python_functions = test_*

# Opciones por defecto
addopts =
    # Mostrar información detallada
    -v
    # Mostrar resumen al final
    -ra
    # Mostrar output de print statements
    -s
    # Mostrar cobertura
    --cov=backend-api
    --cov=frontend
    # Reporte HTML de cobertura
    --cov-report=html:../tests/test-results/coverage
    --cov-report=term-missing
    # Reporte HTML de los tests
    --html=../tests/test-results/report.html
    --self-contained-html
    # Warnings
    -W ignore::DeprecationWarning

# Markers personalizados
markers =
    slow: marca tests que son lentos de ejecutar
    integration: tests de integración
    unit: tests unitarios
    frontend: tests del frontend
    backend: tests del backend
    cache: tests del sistema de cache
    rag: tests del sistema RAG
    comparador: tests del comparador de artículos
    performance: tests de rendimiento y benchmarks

# Configuración de asyncio
asyncio_mode = auto

# Timeout para tests (en segundos)
timeout = 300

# Colores en la salida
console_output_style = progress
